КОМАНДЫ, КОТОРЫЕ МОГУТ ПРИГОДИТЬСЯ НА ЗАЩИТЕ ПРОЕКТА

Посмотреть дисковую структуру: lsblk

Установить программу: apt install <название программы>

Создать нового пользователя: adduser <имя нового пользователя>
Создать нового пользователя и добавить в группу: adduser <имя нового пользователя> <название группы>
Посмотреть все группы пользователя: groups <имя пользователя>
Удалить пользователя: deluser <имя пользователя>
Удалить пользователя вместе с его домашней директорией: deluser --remove-home <имя пользователя>
Изменить пароль пользователя: passwd <пользователь>
Сменить пользователя: su - <имя пользователя, под которым хотим залогиниться>
Вывести информацию обо всех пользователях: cat /etc/passwd

Создать новую группу: addgroup <название новой группы>
Удалить группу: groupdel <название группы>
Посмотреть список пользователей в группе: getent group <название группы>
Посмотреть список всех групп и всех пользователей в каждой группе: getent group
Удалить пользователя из группы: gpasswd -d <пользователь> <группа>

Получить хэш-сумму и сохранить в файл: shasum <файл .vdi> > <название файла для сохранения>

Сравнить два файла: diff <путь к первому файлу> <путь ко второму файлу>

Установка с помощью apt: apt install <название программы>
Удаление с помощью apt: apt remove <название файла>
Удалить остаточные файлы: apt autoremove

Если aptitude установлен, то команды по установке и удалению аналогичны командам apt (но остаточные файлы удаляются автоматически)
Установка с помощью aptitude: apt install <название программы>
Удаление с помощью aptitude: apt remove <название файла>

Посмотреть установлен ли aptitude: dpkg -l | grep aptitude

Подключение к виртуальной машине через терминал: ssh <имя пользователя на виртуальной машине>@localhost -p <порт>
Закрыть соединение: exit

Перезагрузка системы: reboot

Объяснение как задавать правила политики паролей:
1) Заходим в файл /etc/login.defs:
- PASS_MAX_DAYS 30 - максимальное время действия пароля. Если не изменить его в течение этого времени, то нельзя будет зайти в систему.
- PASS_MIN_DAYS 2 - минимальное время действия пароля, в течение которого его нельзя поменять.
- PASS_WARN_AGE 7 - время до конца истечения срока пароля. за которое пользователь начнёт получать напоминания о смене пароля.
2) Через программу libpam-pwquality устанавливаем расширенные настройки политики паролей:
Заходим в файл /etc/pam.d/common-password:
retry=3 - максимальное количество попыток ввести пароль
maxrepeat=3  - максимальное количество повторений одного символа в пароле
minlen=10 - минимальное количество символов в пароле
dcredit=-1 - минимальное количество цифр в пароле
ucredit=-1 - минимальное количество заглавных букв в пароле
difok=7 - количество символов в новом пароле, которое не должно присутствовать в старом пароле

UFW:
Посмотреть разрешённые порты (и проверка, что ufw работает): ufw status
Посмотреть разрешённые порты с их номерами: ufw status numbered
Удалить порт из списка разрешённых: ufw delete <номер удаляемого порта в списке>
ПРИ УДАЛЕНИИ ПОРТА ИЗ СПИСКА НОМЕРА ПОРТОВ НИЖЕ В СПИСКЕ ИЗМЕНЯТСЯ!!!
Опция ENABLE в конфигурационном файле /etc/ufw/ufw.conf показывает запускается ли служба при запуске системы
Стандартный способ посмотреть порты: lsof -i -P


Посмотреть текущее имя хоста: hostnamectl
Изменить имя хоста: hostnamectl set-hostname <новое имя хоста> (либо вручную изменить в файле /etc/hostname)

SSH:
Посмотреть информацию о SSH (например запущена ли служба): systemctl status sshd
Остановить SSH: systemctl stop sshd
Запустить SSH: systemctl start sshd

Посмотреть статус всех служб: service --status-all

Вывести название установленной системы: uname -a

Открыть код скрипта:
1) cd ~/
2) nano monitoring.sh

Добавить скрипт в расписание: crontab -e */10 * * * *	sh /home/<user>/monitoring.sh
